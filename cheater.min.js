function getCandidates(t,e){let s=10;t.length<10&&(s=t.length);let o=[];for(let t=0;t<e.length;t++)o.push([t,e[t]]);o.sort((t,e)=>e[1]-t[1]),o=o.slice(0,s),o.sort((t,e)=>t[0]-e[0]);let r=[];for(let e=0;e<s;e++)r.push(t[o[e][0]]);r.reverse();let l="";for(let t of r)l+=` ${t}`;return l}function updateOptions(){wordListDiv.innerHTML=`<h2>Remaining Options: ${wordList.length}</h2><ul>`+wordList.map(t=>`<li>${t}</li>`).join("")+"</ul>",wordListDiv.style.display="block"}function printAndProcessGuess(){const t=document.createElement("div");t.style.marginBottom="10px";let e=cheater.print_status();for(let s=0;s<e.length;s++){const o=document.createElement("div");o.className="letterbox",o.textContent=e.charAt(s),o.dataset.colorIndex=0,o.addEventListener("click",cycleLetterboxColor),t.appendChild(o)}const s=document.createElement("button");s.textContent=`Process Guess ${++guessCount}`,s.disabled=!0,s.addEventListener("click",processGuess),t.appendChild(s),mainContent.appendChild(t),mainContent.style.display="block"}function cycleLetterboxColor(){const t=["#333","grey","yellow","green"];let e=parseInt(this.dataset.colorIndex)||0;e=(e+1)%t.length,this.style.backgroundColor=t[e],this.dataset.colorIndex=e;const s=this.parentElement.querySelectorAll(".letterbox");let o=!0;for(let t of s){const e=window.getComputedStyle(t).backgroundColor;if("rgb(51, 51, 51)"===e){o=!1;break}}const r=this.parentElement.querySelector("button");r.disabled=!o}function processGuess(){const t=this.parentElement.querySelectorAll(".letterbox");let e="";t.forEach(t=>{e+=t.textContent}),console.log("Guessed word:",e);const s={"rgb(51, 51, 51)":"grey","rgb(128, 128, 128)":"grey","rgb(255, 255, 0)":"yellow","rgb(0, 128, 0)":"green"},o=[];t.forEach(t=>{const e=window.getComputedStyle(t).backgroundColor;o.push(s[e])}),console.log("Results:",o);for(let t=0;t<e.length;t++){const s=e[t];"green"===o[t]?(cheater.require_letter_at_position(s,t),cheater.print_status()):"yellow"===o[t]?(cheater.require_letter(s),cheater.rule_out_letter_at_position(s,t),cheater.print_status()):"grey"===o[t]&&(cheater.rule_out_letter(s),cheater.print_status())}wordList=cheater.clean_words,updateOptions(),printAndProcessGuess()}let cheater,wordList=[],guessCount=0;class Cheater{constructor(t){this.guessed=[];const e=t.map(t=>t.toUpperCase());this.clean_words=[...e],this.salty_words=[...e],this.counts=Array(26).fill(0);for(let t of this.clean_words)for(let e of t)this.counts[e.charCodeAt(0)-65]+=1;let s=Array(26).fill().map(()=>Array(5).fill(0));for(let t of this.clean_words)for(let e=0;e<t.length;e++){let o=t[e],r=o.charCodeAt(0)-65;r>=0&&r<26&&(s[r][e]+=1)}let o=[];for(let t=0;t<5;t++){let e=[];for(let o=0;o<26;o++)e.push(s[o][t]);o.push(this.median(e))}let r=Array(26).fill().map(()=>Array(5).fill(0));for(let t=0;t<r.length;t++)for(let e=0;e<r[t].length;e++)r[t][e]=s[t][e]/o[e];this.scores=Array(this.clean_words.length).fill(0);for(let t=0;t<this.clean_words.length;t++){let e=this.clean_words[t];for(let s=0;s<e.length;s++){let o=e[s];this.scores[t]+=r[o.charCodeAt(0)-65][s]}}this.salty_scores=[...this.scores]}median(t){if(0===t.length)return 0;t.sort((t,e)=>t-e);const e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}get_clean_candidates(){let t=[];for(let e=0;e<this.clean_words.length;e++){let s=this.clean_words[e];for(let o of s)if(s.split(o).length-1>1){t.push(e);break}}let e=this.clean_words.filter((e,s)=>!t.includes(s)),s=this.scores.filter((e,s)=>!t.includes(s));return getCandidates(e,s)}get_salty_candidates(){let t=[];for(let e=0;e<this.salty_words.length;e++){let s=this.salty_words[e];for(let o of this.guessed)if(s.includes(o)){t.push(e);break}}let e=this.salty_words.filter((e,s)=>!t.includes(s)),s=this.salty_scores.filter((e,s)=>!t.includes(s)),o=[];for(let t=0;t<e.length;t++){let s=e[t];for(let e of s)if(s.split(e).length-1>1){o.push(t);break}}return e=e.filter((t,e)=>!o.includes(e)),s=s.filter((t,e)=>!o.includes(e)),getCandidates(e,s)}print_status(){console.log(`${this.clean_words.length} possible words remain`);let t=getCandidates(this.clean_words,this.scores),e=this.get_clean_candidates(),s=this.get_salty_candidates(),o="";return console.log(`Most likely: ${t}`),console.log(`No doubles: ${e}`),console.log(`New letters: ${s}`),s.trim().length>1?o=s.substring(0,6):e.trim().length>1?o=e.substring(0,6):t.trim().length>1&&(o=t.substring(0,6)),console.log(`Best guess: ${o}`),o.trim()}rule_out_letter(t){this.guessed.push(t);const e=[],s=[];for(let o=0;o<this.clean_words.length;o++){const r=this.clean_words[o],l=this.scores[o];r.includes(t)||(e.push(r),s.push(l))}this.clean_words=e,this.scores=s;const o=[],r=[];for(let e=0;e<this.salty_words.length;e++){const s=this.salty_words[e],l=this.salty_scores[e];s.includes(t)||(o.push(s),r.push(l))}this.salty_words=o,this.salty_scores=r}require_letter(t){this.guessed.push(t);const e=[],s=[];for(let o=0;o<this.clean_words.length;o++){const r=this.clean_words[o],l=this.scores[o];r.includes(t)&&(e.push(r),s.push(l))}this.clean_words=e,this.scores=s}_filterOutLetterAtPosition(t,e,s,o){const r=[],l=[];for(let n=0;n<t.length;n++){const i=t[n],c=e[n];i&&"string"==typeof i&&i.length>o&&i[o]!==s&&(r.push(i),l.push(c))}return[r,l]}rule_out_letter_at_position(t,e){this.guessed.push(t),[this.clean_words,this.scores]=this._filterOutLetterAtPosition(this.clean_words,this.scores,t,e),[this.salty_words,this.salty_scores]=this._filterOutLetterAtPosition(this.salty_words,this.salty_scores,t,e)}require_letter_at_position(t,e){this.guessed.push(t);const s=[],o=[];for(let r=0;r<this.clean_words.length;r++){const l=this.clean_words[r],n=this.scores[r];l&&"string"==typeof l&&l.length>e&&l[e]===t&&(s.push(l),o.push(n))}this.clean_words=s,this.scores=o}}const wordListDiv=document.getElementById("wordList"),startButton=document.getElementById("startButton"),mainContent=document.getElementById("mainContent");window.onload=function(){fetch("https://gist.githubusercontent.com/cfreshman/a03ef2cba789d8cf00c08f767e0fad7b/raw/c46f451920d5cf6326d550fb2d6abb1642717852/wordle-answers-alphabetical.txt").then(t=>t.text()).then(t=>{wordList=t.split("\n"),console.log(wordList),cheater=new Cheater(wordList),updateOptions(),startButton.style.display="block"}).catch(t=>console.error("Error fetching word list:",t))},startButton.onclick=function(){startButton.style.display="none",printAndProcessGuess()};